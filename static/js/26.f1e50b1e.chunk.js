"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[26],{603:function(e,n,t){t.d(n,{$w:function(){return o},Bc:function(){return i},Mw:function(){return s},f6:function(){return l},z1:function(){return u}});var r=t(294),a="https://api.themoviedb.org/3/movie/",c="e58a02e4215cc04ce0b4af905ce50db3",s=function(){var e=new URLSearchParams({api_key:c,page:"1",include_adult:!1,per_page:"20"});return r.Z.get("".concat("https://api.themoviedb.org/3/trending/movie/day","?").concat(e))},i=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"/").concat(n))},o=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"/credits?").concat(n))},l=function(e){var n=new URLSearchParams({api_key:c});return r.Z.get("".concat(a,"/").concat(e,"/reviews?/").concat(n))},u=function(e){var n=new URLSearchParams({api_key:c,page:"1",include_adult:!1,query:e});return r.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?").concat(n))}},26:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(861),a=t(439),c=t(757),s=t.n(c),i=t(791),o=t(689),l=t(87),u=t(603),d={},h=t(184),p=function(){var e,n=(0,i.useState)(),t=(0,a.Z)(n,2),c=t[0],p=t[1],m=(0,i.useState)(""),v=(0,a.Z)(m,2),f=v[0],x=v[1],j=(0,i.useState)(!1),g=(0,a.Z)(j,2),w=g[0],k=g[1],_=(0,i.useState)(null),b=(0,a.Z)(_,2),S=b[0],Z=b[1],y=(0,o.UO)().id,L=(null===(e=(0,o.TH)().state)||void 0===e?void 0:e.from)||"/",N=(0,o.s0)();(0,i.useEffect)((function(){if(y){var e=function(){var e=(0,r.Z)(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,(0,u.Bc)(y);case 4:n=e.sent,t=n.data,p(t),r=new Date(Date.parse(t.release_date)),x(r.getFullYear()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Z(e.t0.message);case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}}),[y]);return(0,h.jsxs)("div",{children:[w&&(0,h.jsx)("p",{children:"...Loading"}),S&&(0,h.jsxs)("p",{children:["Error: ",S]}),(0,h.jsxs)("button",{className:d.button,onClick:function(){return N(L)},type:"button",children:["\u2190"," Go back"]}),c&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:d.mainInfo,children:[(0,h.jsx)("div",{className:d.imgBlock,children:(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(c.poster_path),alt:c.title,className:d.img})}),(0,h.jsxs)("div",{className:d.textBlock,children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:d.mainTitle,children:[c.title," (",f,")"]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("span",{children:"User Score:"})," ",(10*c.vote_average).toFixed(2),"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:d.secondTitle,children:"Overview"}),(0,h.jsx)("p",{children:c.overview})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:d.secondTitle,children:"Genres"}),(0,h.jsx)(h.Fragment,{children:c.poster_path&&(0,h.jsxs)("p",{children:[(0,h.jsx)("span",{})," ",c.genres.map((function(e,n){return(0,h.jsxs)("span",{children:[e.name,n!==c.genres.length-1&&" "]},e.id)}))]})})]})]})]}),(0,h.jsx)("p",{children:"Additional information"}),(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(l.OL,{to:"cast",state:{from:L},children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(l.OL,{to:"reviews",state:{from:L},children:"Reviews"})}),(0,h.jsxs)(i.Suspense,{children:[" ",(0,h.jsx)(o.j3,{})]})]})]})]})},m=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(p,{})})}}}]);
//# sourceMappingURL=26.f1e50b1e.chunk.js.map