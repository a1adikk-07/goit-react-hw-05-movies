{"version":3,"file":"static/js/26.7586bc37.chunk.js","mappings":"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","sources":["api/movie.js","webpack://react-homework-template/./src/components/SingleMovie/search-movie.module.css?efe5","components/SingleMovie/SingleMovie.jsx","pages/SingleMoviePage/SingleMoviePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst URL_TREND = 'https://api.themoviedb.org/3/trending/movie/day';\nconst URL_DETAILS = 'https://api.themoviedb.org/3/movie';\nconst URL_SEARCH = 'https://api.themoviedb.org/3/search/movie';\n\nconst API_KEY = 'e58a02e4215cc04ce0b4af905ce50db3';\n\nexport const getTrendingMovies = () => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: '1',\n    include_adult: false,\n    per_page: '20',\n  });\n  return axios.get(`${URL_TREND}?${params}`);\n};\n\nexport const GetMovieById = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}?${params}`);\n};\n\nexport const getMovieCastById = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}/credits?${params}`);\n};\n\nexport const GetSearching = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  return axios.get(`${URL_DETAILS}/${id}/credits?/${params}`);\n};\n\nexport const getMovieReviewById = id => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  return axios.get(`${URL_DETAILS}/${id}/reviews?${params}`);\n};\n\nexport const searchMovies = query => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    language: 'en-US',\n    page: '1',\n    include_adult: false,\n    query: query,\n  });\n  return axios.get(`${URL_SEARCH}?${params}`);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"search-movie_button__LYzzy\",\"mainInfo\":\"search-movie_mainInfo__naI5J\",\"imgBlock\":\"search-movie_imgBlock__O+J-Q\",\"img\":\"search-movie_img__3svDR\",\"textBlock\":\"search-movie_textBlock__DrrPF\",\"mainTitle\":\"search-movie_mainTitle__mIqfU\",\"secondTitle\":\"search-movie_secondTitle__gC4Z2\"};","import { useState, useEffect, Suspense } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  useLocation,\n  NavLink,\n  Outlet,\n} from 'react-router-dom';\nimport { GetMovieById } from 'api/movie';\nimport style from './search-movie.module.css';\n\nconst SingleMovie = () => {\n  const [movie, setMovies] = useState(null);\n  const [year, setYear] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!id) return;\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await GetMovieById(id);\n        setMovies(data);\n        const dateObject = new Date(Date.parse(data.release_date));\n        setYear(dateObject.getFullYear());\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [id]);\n\n  const handleImageError = event => {\n    event.target.src = '/src/images/Screenshot_1.png';\n  };\n\n  const goBack = () => navigate(from);\n\n  return (\n    <div>\n      {loading && <p>Loading...</p>}\n      {error && <p>Error: {error}</p>}\n      <button className={style.button} onClick={goBack} type=\"button\">\n        {'\\u2190'} Go back\n      </button>\n      {movie && (\n        <>\n          <div className={style.mainInfo}>\n            <div className={style.imgBlock}>\n              <img\n                src={`https://image.tmdb.org/t/p/original/${movie.poster_path}`}\n                alt={movie.title}\n                className={style.img}\n                onError={handleImageError}\n              />\n            </div>\n            <div className={style.textBlock}>\n              <div>\n                <p className={style.mainTitle}>\n                  {movie.title} ({year})\n                </p>\n                <p>\n                  <span>User Score:</span>{' '}\n                  {(movie.vote_average * 10).toFixed(2)}%\n                </p>\n              </div>\n              <div>\n                <p className={style.secondTitle}>Overview</p>\n                <p>{movie.overview}</p>\n              </div>\n              <div>\n                <p className={style.secondTitle}>Genres</p>\n                <>\n                  {movie.poster_path && (\n                    <p>\n                      <span></span>{' '}\n                      {movie.genres.map((genre, index) => (\n                        <span key={genre.id}>\n                          {genre.name}\n                          {index !== movie.genres.length - 1 && ' '}\n                        </span>\n                      ))}\n                    </p>\n                  )}\n                </>\n              </div>\n            </div>\n          </div>\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <NavLink to=\"cast\" state={{ from }}>\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"reviews\" state={{ from }}>\n                Reviews\n              </NavLink>\n            </li>\n            <Suspense> {<Outlet />}</Suspense>\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SingleMovie;\n","import SingleMovie from 'components/SingleMovie/SingleMovie';\n\nconst SingleMoviePage = () => {\n  return (\n    <div>\n      <SingleMovie />\n    </div>\n  );\n};\n\nexport default SingleMoviePage;\n"],"names":["URL_DETAILS","API_KEY","getTrendingMovies","params","URLSearchParams","api_key","language","page","include_adult","per_page","axios","concat","GetMovieById","id","getMovieCastById","getMovieReviewById","searchMovies","query","_location$state","_useState","useState","_useState2","_slicedToArray","movie","setMovies","_useState3","_useState4","year","setYear","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","useParams","from","useLocation","state","navigate","useNavigate","useEffect","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$GetMovieById","data","dateObject","_context","prev","next","sent","Date","parse","release_date","getFullYear","t0","message","finish","stop","apply","arguments","_jsxs","children","_jsx","className","style","onClick","type","_Fragment","src","poster_path","alt","title","onError","event","target","vote_average","toFixed","overview","genres","map","genre","index","name","length","NavLink","to","Suspense","Outlet","SingleMovie"],"sourceRoot":""}